# -*- mode: conf-unix-mode; tab-width: 4 -*-

[user]
	name = Ross Timson
	email = ross@rosstimson.com
	SigningKey = 0x080A22C7E75C885C

[github]
	user = rosstimson

[core]
	excludesfile = ~/.gitignore
	autocrlf = input
	pager = less -FSRX
	editor = vim
	# Nice on a Mac for using MacVim and iTerm
	# editor = "mvim -f -c 'au VimLeave * !open -a iTerm'"

[push]
	default = simple
	followTags = true

[commit]
	gpgsign = true

[gpg]
	program = gpg2

[color]
	branch = auto
	diff = auto
	status = auto
	ui = auto

[color "branch"]
	current = yellow reverse
	local = yellow
	remote = green

[color "diff"]
	meta = yellow bold
	frag = magenta bold
	old = red bold
	new = green bold

[color "status"]
	added = green
	changed = yellow
	untracked = red

[diff]
	tool = vim
	guitool = meld

[difftool]
	prompt = false

[difftool "vim"]
	cmd = /usr/local/bin/vim -d "$LOCAL" "$REMOTE"
	trustExitCode = false

[difftool "meld"]
	trustExitCode = true
	cmd = meld "$LOCAL" "$REMOTE"

[difftool "ksdiff"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"

[merge]
	ff = only
	conflictstyle = diff3
	tool = vim
	guitool = meld

[mergetool]
	prompt = false

[mergetool "vim"]
	cmd = /usr/local/bin/vim -d "$LOCAL" "$MERGED" "$REMOTE"
	keepBackup = false
	trustExitCode = false

[mergetool "meld"]
	trustExitCode = true
	cmd = meld "$LOCAL" "$MERGED" "$REMOTE" --output "$MERGED"

[mergetool "ksdiff"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
	keepBackup = false
	trustexitcode = true

[alias]
	a = add
	b = branch
	c = commit -v
	co = checkout
	d = diff
	dt = difftool
	f = fetch
	last = log -1 HEAD
	lg = !"git lg1"
	lg1 = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(magenta)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all
	lg2 = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n''          %C(white)%s%C(reset) %C(magenta)- %an%C(reset)' --all
	p = push
	prune = fetch --prune
	l = pull
	s = status
	stash-all = stash save --include-untracked
	t = tag
	undo = reset --soft HEAD^
	unstage = reset HEAD --
	r = remote
	i = init
	m = merge
	mt = git mergetool --no-prompt
