#!/usr/bin/env bash

set -euo pipefail


function push() {
	rclone sync --password-command "op read op://personal/Rclone/password" ~/Documents/notes notes-rosstimson:notes-rosstimson
}


function pull() {
	rclone sync --password-command "op read op://personal/Rclone/password" notes-rosstimson:notes-rosstimson ~/Documents/notes
}


# Default to pull if no arguments given
case ${1:-pull} in
    push)
        push
        ;;
    pull)
        pull
        ;;
    *)
        echo "Invalid argument. Usage: $0 [push|pull]"
        exit 1
        ;;
esac

exit 0
